{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "API Gateway - Market Data Schemas",
  "version": "1.0.0",
  "definitions": {
    "MarketSeries": {
      "type": "object",
      "properties": {
        "series_id": { "type": "string" },
        "symbol": { "type": "string" },
        "timeframe": { "$ref": "common.json#/definitions/Timeframe" },
        "venue": { "type": ["string", "null"] },
        "provider": { "type": ["string", "null"] },
        "created_utc": { "$ref": "common.json#/definitions/Timestamp" }
      },
      "required": ["series_id", "symbol", "timeframe"],
      "additionalProperties": false
    },
    "MarketBar": {
      "type": "object",
      "properties": {
        "series_id": { "type": "string" },
        "ts_utc": { "$ref": "common.json#/definitions/Timestamp" },
        "open": { "type": "number" },
        "high": { "type": "number" },
        "low": { "type": "number" },
        "close": { "type": "number" },
        "volume": { "type": "number", "default": 0.0 },
        "volumetric_json": { "type": ["object", "null"] }
      },
      "required": ["series_id", "ts_utc", "open", "high", "low", "close"],
      "additionalProperties": false
    }
  }
}
